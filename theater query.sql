CREATE DATABASE THEATER;
USE THEATER;
DROP TABLE IF EXISTS MOVIE;

CREATE TABLE MOVIE (
	MOVIENO INT AUTO_INCREMENT, 
    ROOM INT,
    TITLE VARCHAR(50),
    PRICE INT, 
    STARTTIME VARCHAR(10),
    TOTALSEAT INT,
    SEATROW INT,
    SEATCOL INT,
    PRIMARY KEY(MOVIENO)			
);

DROP TABLE IF EXISTS TICKETING;
CREATE TABLE TICKETING (
    SEAT VARCHAR(4) NOT NULL,	
    TICKETNO INT, 
    MOVIENO INT, 
    PHONE VARCHAR(12), 
	PRIMARY KEY (SEAT,MOVIENO),
    FOREIGN KEY(MOVIENO) REFERENCES MOVIE(MOVIENO) 
);

INSERT INTO MOVIE 
VALUES (DEFAULT, 1, '클레멘타인', 10000,'9:00',156,12,13);

INSERT INTO MOVIE 
VALUES (DEFAULT, 1, '클레멘타인', 10000, '15:00',156,12,13);

INSERT INTO MOVIE 
VALUES (DEFAULT, 1, '클레멘타인', 10000, '21:00',156,12,13);

INSERT INTO MOVIE 
VALUES (DEFAULT, 2, '영웅', 8000, '8:30',100,10,10);

INSERT INTO MOVIE 
VALUES (DEFAULT, 2, '영웅', 8000, '13:30',100,10,10);

INSERT INTO MOVIE 
VALUES (DEFAULT, 2, '영웅', 8000, '18:30',100,10,10);

INSERT INTO MOVIE 
VALUES (DEFAULT, 3, '성냥팔이 소녀의 재림', 9000, '10:00',144,12,12);

INSERT INTO MOVIE 
VALUES (DEFAULT, 3, '성냥팔이 소녀의 재림', 9000, '14:00',144,12,12);

INSERT INTO MOVIE 
VALUES (DEFAULT, 3, '성냥팔이 소녀의 재림', 9000, '18:00',144,12,12);

INSERT INTO MOVIE 
VALUES (DEFAULT, 3, '성냥팔이 소녀의 재림', 9000, '22:00',144,12,12);

